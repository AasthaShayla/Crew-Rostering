{"ast":null,"code":"var _jsxFileName = \"/Users/aasthashayla/Downloads/Archive/frontend/src/components/RosterVisualization.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo } from 'react';\nimport { Card, CardContent, Typography, Box, Grid, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Chip, Tabs, Tab, Tooltip, Select, MenuItem, FormControl, InputLabel, Button } from '@mui/material';\nimport { Schedule, Assessment, Person, ViewTimeline, TableChart } from '@mui/icons-material';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip as RechartsTooltip, ResponsiveContainer, PieChart, Pie, Cell, Legend } from 'recharts';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport dayjs from 'dayjs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ROLE_COLORS = {\n  Captain: '#1976d2',\n  FO: '#2e7d32',\n  SC: '#9c27b0',\n  CC: '#f57c00'\n};\nconst AIRCRAFT_COLORS = {\n  A320: '#e3f2fd',\n  A321: '#e8f5e8',\n  ATR72: '#fff3e0'\n};\nconst roleKey = raw => {\n  if (!raw) return 'Captain';\n  const r = String(raw).trim();\n  if (r === 'FO' || r === 'First Officer') return 'FO';\n  if (r === 'Senior Crew' || r === 'SC') return 'SC';\n  if (r === 'Cabin Crew' || r === 'CC') return 'CC';\n  return 'Captain';\n};\nconst RosterVisualization = ({\n  roster,\n  title = \"Roster Visualization\",\n  showKPIs = true,\n  controlledDate = null,\n  onChangeDate\n}) => {\n  _s();\n  const [activeTab, setActiveTab] = useState(0);\n  const [internalDate, setInternalDate] = useState(null);\n  const selectedDate = controlledDate !== null && controlledDate !== void 0 ? controlledDate : internalDate;\n  const [selectedRole, setSelectedRole] = useState('all');\n\n  // Extract data safely with memoization to prevent dependency issues\n  const assignments = useMemo(() => (roster === null || roster === void 0 ? void 0 : roster.assignments) || [], [roster === null || roster === void 0 ? void 0 : roster.assignments]);\n  const kpis = useMemo(() => (roster === null || roster === void 0 ? void 0 : roster.kpis) || null, [roster === null || roster === void 0 ? void 0 : roster.kpis]);\n  const operating_days = useMemo(() => (roster === null || roster === void 0 ? void 0 : roster.operating_days) || [], [roster === null || roster === void 0 ? void 0 : roster.operating_days]);\n\n  // Process data for visualizations - this hook must be called before any early returns\n  const processedData = useMemo(() => {\n    if (!assignments.length) {\n      return {\n        byCrewAndDay: [],\n        byDay: [],\n        byRole: [],\n        byAircraft: []\n      };\n    }\n\n    // Group assignments by crew and day\n    const byCrewAndDay = {};\n    const byDay = {};\n    const byRole = {};\n    const byAircraft = {};\n    assignments.forEach(assignment => {\n      const day = assignment.dep_dt.split('T')[0];\n      const crewKey = `${assignment.crew_id}`;\n      const dayKey = `${crewKey}-${day}`;\n\n      // By crew and day\n      if (!byCrewAndDay[dayKey]) {\n        byCrewAndDay[dayKey] = {\n          crew_id: assignment.crew_id,\n          role: assignment.role,\n          day,\n          flights: [],\n          total_minutes: 0\n        };\n      }\n      byCrewAndDay[dayKey].flights.push(assignment);\n      byCrewAndDay[dayKey].total_minutes += assignment.duration_min;\n\n      // By day\n      if (!byDay[day]) {\n        byDay[day] = {\n          day,\n          flights: 0,\n          crew_assigned: 0\n        };\n      }\n      byDay[day].flights++;\n\n      // By role (normalize role labels)\n      const rk = roleKey(assignment.role);\n      if (!byRole[rk]) {\n        byRole[rk] = 0;\n      }\n      byRole[rk]++;\n\n      // By aircraft\n      if (!byAircraft[assignment.aircraft_type]) {\n        byAircraft[assignment.aircraft_type] = 0;\n      }\n      byAircraft[assignment.aircraft_type]++;\n    });\n\n    // Calculate unique crew per day\n    Object.keys(byDay).forEach(day => {\n      const crewOnDay = new Set(assignments.filter(a => a.dep_dt.split('T')[0] === day).map(a => a.crew_id));\n      byDay[day].crew_assigned = crewOnDay.size;\n    });\n    return {\n      byCrewAndDay: Object.values(byCrewAndDay),\n      byDay: Object.values(byDay).sort((a, b) => a.day.localeCompare(b.day)),\n      byRole: Object.entries(byRole).map(([role, count]) => ({\n        role,\n        count\n      })),\n      byAircraft: Object.entries(byAircraft).map(([aircraft, count]) => ({\n        aircraft,\n        count\n      }))\n    };\n  }, [assignments]);\n\n  // Filter data based on selections - this hook must also be called before any early returns\n  const filteredAssignments = useMemo(() => {\n    if (!assignments.length) {\n      return [];\n    }\n    return assignments.filter(assignment => {\n      const day = assignment.dep_dt.split('T')[0];\n      const dayMatch = !selectedDate || day === dayjs(selectedDate).format('YYYY-MM-DD');\n      const roleMatch = selectedRole === 'all' || roleKey(assignment.role) === roleKey(selectedRole);\n      return dayMatch && roleMatch;\n    });\n  }, [assignments, selectedDate, selectedRole]);\n\n  // Early return AFTER all hooks have been called\n  if (!roster || !roster.assignments) {\n    return /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          color: \"text.secondary\",\n          align: \"center\",\n          sx: {\n            py: 4\n          },\n          children: \"No roster data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }, this);\n  }\n  const renderKPIs = () => {\n    var _kpis$coverage_pct, _kpis$avg_hours, _kpis$total_overtime_;\n    if (!showKPIs || !kpis) return null;\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      sx: {\n        mb: 3\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            color: \"primary\",\n            children: [((_kpis$coverage_pct = kpis.coverage_pct) === null || _kpis$coverage_pct === void 0 ? void 0 : _kpis$coverage_pct.toFixed(1)) || 0, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Schedule Coverage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            color: \"success.main\",\n            children: [((_kpis$avg_hours = kpis.avg_hours) === null || _kpis$avg_hours === void 0 ? void 0 : _kpis$avg_hours.toFixed(1)) || 0, \"h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Avg Crew Hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            color: \"warning.main\",\n            children: [((_kpis$total_overtime_ = kpis.total_overtime_hours) === null || _kpis$total_overtime_ === void 0 ? void 0 : _kpis$total_overtime_.toFixed(1)) || 0, \"h\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Total Overtime\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 6,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2,\n            textAlign: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h4\",\n            color: \"info.main\",\n            children: assignments.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            children: \"Total Assignments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTimelineView = () => {\n    // Group assignments by crew for timeline view\n    const crewTimelines = {};\n    filteredAssignments.forEach(assignment => {\n      if (!crewTimelines[assignment.crew_id]) {\n        crewTimelines[assignment.crew_id] = {\n          crew_id: assignment.crew_id,\n          role: assignment.role,\n          assignments: []\n        };\n      }\n      crewTimelines[assignment.crew_id].assignments.push(assignment);\n    });\n\n    // Sort assignments by time for each crew\n    Object.values(crewTimelines).forEach(crew => {\n      crew.assignments.sort((a, b) => new Date(a.dep_dt) - new Date(b.dep_dt));\n    });\n    return /*#__PURE__*/_jsxDEV(Box, {\n      children: [Object.values(crewTimelines).map(crew => /*#__PURE__*/_jsxDEV(Paper, {\n        sx: {\n          mb: 2,\n          p: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            mb: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Person, {\n            sx: {\n              mr: 1,\n              color: ROLE_COLORS[roleKey(crew.role)]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            children: crew.crew_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Chip, {\n            label: crew.role,\n            color: \"primary\",\n            size: \"small\",\n            sx: {\n              ml: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"body2\",\n            color: \"text.secondary\",\n            sx: {\n              ml: 2\n            },\n            children: [crew.assignments.length, \" flight\", crew.assignments.length !== 1 ? 's' : '']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            gap: 1\n          },\n          children: crew.assignments.map((assignment, index) => {\n            const startTime = new Date(assignment.dep_dt);\n            const endTime = new Date(assignment.arr_dt);\n            const duration = assignment.duration_min;\n            return /*#__PURE__*/_jsxDEV(Tooltip, {\n              title: /*#__PURE__*/_jsxDEV(Box, {\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: [\"Flight \", assignment.flight_id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [assignment.dep_airport, \" \\u2192 \", assignment.arr_airport]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [startTime.toLocaleTimeString(), \" - \", endTime.toLocaleTimeString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"Duration: \", duration, \" minutes\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"body2\",\n                  children: [\"Aircraft: \", assignment.aircraft_type]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 23\n              }, this),\n              children: /*#__PURE__*/_jsxDEV(Paper, {\n                sx: {\n                  p: 1,\n                  minWidth: `${Math.max(80, duration / 2)}px`,\n                  bgcolor: AIRCRAFT_COLORS[assignment.aircraft_type] || '#f5f5f5',\n                  border: `2px solid ${ROLE_COLORS[roleKey(assignment.role)]}`,\n                  cursor: 'pointer',\n                  '&:hover': {\n                    opacity: 0.8\n                  }\n                },\n                children: [/*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  fontWeight: \"bold\",\n                  children: assignment.flight_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  display: \"block\",\n                  children: [assignment.dep_airport, \"\\u2192\", assignment.arr_airport]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"caption\",\n                  display: \"block\",\n                  children: startTime.toLocaleTimeString([], {\n                    hour: '2-digit',\n                    minute: '2-digit'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 21\n              }, this)\n            }, `${assignment.flight_id}-${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this)]\n      }, crew.crew_id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 11\n      }, this)), Object.keys(crewTimelines).length === 0 && /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"body1\",\n        color: \"text.secondary\",\n        align: \"center\",\n        sx: {\n          py: 4\n        },\n        children: \"No assignments found for the selected filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this);\n  };\n  const renderChartsView = () => {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Daily Operations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: processedData.byDay,\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                dataKey: \"day\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 342,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RechartsTooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 343,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"flights\",\n                fill: \"#1976d2\",\n                name: \"Flights\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"crew_assigned\",\n                fill: \"#2e7d32\",\n                name: \"Crew Assigned\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 6,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Role Distribution\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 300,\n            children: /*#__PURE__*/_jsxDEV(PieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: processedData.byRole,\n                dataKey: \"count\",\n                nameKey: \"role\",\n                cx: \"50%\",\n                cy: \"50%\",\n                outerRadius: 80,\n                label: true,\n                children: processedData.byRole.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: ROLE_COLORS[entry.role] || '#8884d8'\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 368,\n                  columnNumber: 21\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RechartsTooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Legend, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          sx: {\n            p: 2\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            gutterBottom: true,\n            children: \"Aircraft Utilization\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 250,\n            children: /*#__PURE__*/_jsxDEV(BarChart, {\n              data: processedData.byAircraft,\n              layout: \"horizontal\",\n              children: [/*#__PURE__*/_jsxDEV(CartesianGrid, {\n                strokeDasharray: \"3 3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(XAxis, {\n                type: \"number\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n                dataKey: \"aircraft\",\n                type: \"category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(RechartsTooltip, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 388,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Bar, {\n                dataKey: \"count\",\n                fill: \"#ff6b35\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this);\n  };\n  const renderTableView = () => {\n    return /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Crew ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Flight ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Route\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Departure\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Arrival\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 409,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: \"Aircraft\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: \"Duration\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: filteredAssignments.sort((a, b) => new Date(a.dep_dt) - new Date(b.dep_dt)).map((assignment, index) => /*#__PURE__*/_jsxDEV(TableRow, {\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              children: assignment.crew_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 419,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: assignment.role,\n                color: \"primary\",\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 420,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: assignment.flight_id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [assignment.dep_airport, \" \\u2192 \", assignment.arr_airport]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: new Date(assignment.dep_dt).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: new Date(assignment.arr_dt).toLocaleString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 434,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              children: /*#__PURE__*/_jsxDEV(Chip, {\n                label: assignment.aircraft_type,\n                variant: \"outlined\",\n                size: \"small\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 438,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"right\",\n              children: [assignment.duration_min, \" min\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 19\n            }, this)]\n          }, `${assignment.crew_id}-${assignment.flight_id}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          mb: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Schedule, {\n            sx: {\n              mr: 1,\n              color: 'primary.main'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"h2\",\n            children: title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            gap: 2,\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(DatePicker, {\n            label: \"Select Date\",\n            value: selectedDate,\n            onChange: d => onChangeDate ? onChangeDate(d) : setInternalDate(d),\n            slotProps: {\n              textField: {\n                size: 'small',\n                sx: {\n                  minWidth: 180\n                }\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            size: \"small\",\n            onClick: () => onChangeDate ? onChangeDate(null) : setInternalDate(null),\n            children: \"All Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            size: \"small\",\n            sx: {\n              minWidth: 140\n            },\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              children: \"Role\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              value: selectedRole,\n              onChange: e => setSelectedRole(e.target.value),\n              label: \"Role\",\n              children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"all\",\n                children: \"All Roles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 489,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Captain\",\n                children: \"Captain\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 490,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"First Officer\",\n                children: \"First Officer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Senior Crew\",\n                children: \"Senior Crew\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n                value: \"Cabin Crew\",\n                children: \"Cabin Crew\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this), renderKPIs(), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          borderBottom: 1,\n          borderColor: 'divider',\n          mb: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Tabs, {\n          value: activeTab,\n          onChange: (e, newValue) => setActiveTab(newValue),\n          children: [/*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(ViewTimeline, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 503,\n              columnNumber: 24\n            }, this),\n            label: \"Timeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(Assessment, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 504,\n              columnNumber: 24\n            }, this),\n            label: \"Charts\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Tab, {\n            icon: /*#__PURE__*/_jsxDEV(TableChart, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 24\n            }, this),\n            label: \"Table\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        children: [activeTab === 0 && renderTimelineView(), activeTab === 1 && renderChartsView(), activeTab === 2 && renderTableView()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 509,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 456,\n    columnNumber: 5\n  }, this);\n};\n_s(RosterVisualization, \"UOUhQP5c6a6jwbyNbIx31EZC4E0=\");\n_c = RosterVisualization;\nexport default RosterVisualization;\nvar _c;\n$RefreshReg$(_c, \"RosterVisualization\");","map":{"version":3,"names":["React","useState","useMemo","Card","CardContent","Typography","Box","Grid","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","Tabs","Tab","Tooltip","Select","MenuItem","FormControl","InputLabel","Button","Schedule","Assessment","Person","ViewTimeline","TableChart","BarChart","Bar","XAxis","YAxis","CartesianGrid","RechartsTooltip","ResponsiveContainer","PieChart","Pie","Cell","Legend","DatePicker","dayjs","jsxDEV","_jsxDEV","ROLE_COLORS","Captain","FO","SC","CC","AIRCRAFT_COLORS","A320","A321","ATR72","roleKey","raw","r","String","trim","RosterVisualization","roster","title","showKPIs","controlledDate","onChangeDate","_s","activeTab","setActiveTab","internalDate","setInternalDate","selectedDate","selectedRole","setSelectedRole","assignments","kpis","operating_days","processedData","length","byCrewAndDay","byDay","byRole","byAircraft","forEach","assignment","day","dep_dt","split","crewKey","crew_id","dayKey","role","flights","total_minutes","push","duration_min","crew_assigned","rk","aircraft_type","Object","keys","crewOnDay","Set","filter","a","map","size","values","sort","b","localeCompare","entries","count","aircraft","filteredAssignments","dayMatch","format","roleMatch","children","variant","color","align","sx","py","fileName","_jsxFileName","lineNumber","columnNumber","renderKPIs","_kpis$coverage_pct","_kpis$avg_hours","_kpis$total_overtime_","container","spacing","mb","item","xs","sm","md","p","textAlign","coverage_pct","toFixed","avg_hours","total_overtime_hours","renderTimelineView","crewTimelines","crew","Date","display","alignItems","mr","label","ml","flexWrap","gap","index","startTime","endTime","arr_dt","duration","flight_id","dep_airport","arr_airport","toLocaleTimeString","minWidth","Math","max","bgcolor","border","cursor","opacity","fontWeight","hour","minute","renderChartsView","gutterBottom","width","height","data","strokeDasharray","dataKey","fill","name","nameKey","cx","cy","outerRadius","entry","layout","type","renderTableView","component","hover","toLocaleString","justifyContent","value","onChange","d","slotProps","textField","onClick","e","target","borderBottom","borderColor","newValue","icon","_c","$RefreshReg$"],"sources":["/Users/aasthashayla/Downloads/Archive/frontend/src/components/RosterVisualization.js"],"sourcesContent":["import React, { useState, useMemo } from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Box,\n  Grid,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Chip,\n  Tabs,\n  Tab,\n  Tooltip,\n  Select,\n  MenuItem,\n  FormControl,\n  InputLabel,\n  Button,\n} from '@mui/material';\nimport {\n  Schedule,\n  Assessment,\n  Person,\n  ViewTimeline,\n  TableChart,\n} from '@mui/icons-material';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip as RechartsTooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from 'recharts';\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\nimport dayjs from 'dayjs';\n\nconst ROLE_COLORS = {\n  Captain: '#1976d2',\n  FO: '#2e7d32',\n  SC: '#9c27b0',\n  CC: '#f57c00',\n};\n\nconst AIRCRAFT_COLORS = {\n  A320: '#e3f2fd',\n  A321: '#e8f5e8',\n  ATR72: '#fff3e0',\n};\n\nconst roleKey = (raw) => {\n  if (!raw) return 'Captain';\n  const r = String(raw).trim();\n  if (r === 'FO' || r === 'First Officer') return 'FO';\n  if (r === 'Senior Crew' || r === 'SC') return 'SC';\n  if (r === 'Cabin Crew' || r === 'CC') return 'CC';\n  return 'Captain';\n};\n\nconst RosterVisualization = ({ roster, title = \"Roster Visualization\", showKPIs = true, controlledDate = null, onChangeDate }) => {\n  const [activeTab, setActiveTab] = useState(0);\n  const [internalDate, setInternalDate] = useState(null);\n  const selectedDate = controlledDate ?? internalDate;\n  const [selectedRole, setSelectedRole] = useState('all');\n\n  // Extract data safely with memoization to prevent dependency issues\n  const assignments = useMemo(() => roster?.assignments || [], [roster?.assignments]);\n  const kpis = useMemo(() => roster?.kpis || null, [roster?.kpis]);\n  const operating_days = useMemo(() => roster?.operating_days || [], [roster?.operating_days]);\n\n  // Process data for visualizations - this hook must be called before any early returns\n  const processedData = useMemo(() => {\n    if (!assignments.length) {\n      return {\n        byCrewAndDay: [],\n        byDay: [],\n        byRole: [],\n        byAircraft: [],\n      };\n    }\n\n    // Group assignments by crew and day\n    const byCrewAndDay = {};\n    const byDay = {};\n    const byRole = {};\n    const byAircraft = {};\n\n    assignments.forEach(assignment => {\n      const day = assignment.dep_dt.split('T')[0];\n      const crewKey = `${assignment.crew_id}`;\n      const dayKey = `${crewKey}-${day}`;\n\n      // By crew and day\n      if (!byCrewAndDay[dayKey]) {\n        byCrewAndDay[dayKey] = {\n          crew_id: assignment.crew_id,\n          role: assignment.role,\n          day,\n          flights: [],\n          total_minutes: 0,\n        };\n      }\n      byCrewAndDay[dayKey].flights.push(assignment);\n      byCrewAndDay[dayKey].total_minutes += assignment.duration_min;\n\n      // By day\n      if (!byDay[day]) {\n        byDay[day] = { day, flights: 0, crew_assigned: 0 };\n      }\n      byDay[day].flights++;\n\n      // By role (normalize role labels)\n      const rk = roleKey(assignment.role);\n      if (!byRole[rk]) {\n        byRole[rk] = 0;\n      }\n      byRole[rk]++;\n\n      // By aircraft\n      if (!byAircraft[assignment.aircraft_type]) {\n        byAircraft[assignment.aircraft_type] = 0;\n      }\n      byAircraft[assignment.aircraft_type]++;\n    });\n\n    // Calculate unique crew per day\n    Object.keys(byDay).forEach(day => {\n      const crewOnDay = new Set(\n        assignments\n          .filter(a => a.dep_dt.split('T')[0] === day)\n          .map(a => a.crew_id)\n      );\n      byDay[day].crew_assigned = crewOnDay.size;\n    });\n\n    return {\n      byCrewAndDay: Object.values(byCrewAndDay),\n      byDay: Object.values(byDay).sort((a, b) => a.day.localeCompare(b.day)),\n      byRole: Object.entries(byRole).map(([role, count]) => ({ role, count })),\n      byAircraft: Object.entries(byAircraft).map(([aircraft, count]) => ({ aircraft, count })),\n    };\n  }, [assignments]);\n\n  // Filter data based on selections - this hook must also be called before any early returns\n  const filteredAssignments = useMemo(() => {\n    if (!assignments.length) {\n      return [];\n    }\n    return assignments.filter(assignment => {\n      const day = assignment.dep_dt.split('T')[0];\n      const dayMatch = !selectedDate || day === dayjs(selectedDate).format('YYYY-MM-DD');\n      const roleMatch = selectedRole === 'all' || roleKey(assignment.role) === roleKey(selectedRole);\n      return dayMatch && roleMatch;\n    });\n  }, [assignments, selectedDate, selectedRole]);\n\n  // Early return AFTER all hooks have been called\n  if (!roster || !roster.assignments) {\n    return (\n      <Card>\n        <CardContent>\n          <Typography variant=\"h6\" color=\"text.secondary\" align=\"center\" sx={{ py: 4 }}>\n            No roster data available\n          </Typography>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const renderKPIs = () => {\n    if (!showKPIs || !kpis) return null;\n\n    return (\n      <Grid container spacing={2} sx={{ mb: 3 }}>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" color=\"primary\">\n              {kpis.coverage_pct?.toFixed(1) || 0}%\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Schedule Coverage\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" color=\"success.main\">\n              {kpis.avg_hours?.toFixed(1) || 0}h\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Avg Crew Hours\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" color=\"warning.main\">\n              {kpis.total_overtime_hours?.toFixed(1) || 0}h\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Total Overtime\n            </Typography>\n          </Paper>\n        </Grid>\n        <Grid item xs={12} sm={6} md={3}>\n          <Paper sx={{ p: 2, textAlign: 'center' }}>\n            <Typography variant=\"h4\" color=\"info.main\">\n              {assignments.length}\n            </Typography>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Total Assignments\n            </Typography>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTimelineView = () => {\n    // Group assignments by crew for timeline view\n    const crewTimelines = {};\n    filteredAssignments.forEach(assignment => {\n      if (!crewTimelines[assignment.crew_id]) {\n        crewTimelines[assignment.crew_id] = {\n          crew_id: assignment.crew_id,\n          role: assignment.role,\n          assignments: [],\n        };\n      }\n      crewTimelines[assignment.crew_id].assignments.push(assignment);\n    });\n\n    // Sort assignments by time for each crew\n    Object.values(crewTimelines).forEach(crew => {\n      crew.assignments.sort((a, b) => new Date(a.dep_dt) - new Date(b.dep_dt));\n    });\n\n    return (\n      <Box>\n        {Object.values(crewTimelines).map(crew => (\n          <Paper key={crew.crew_id} sx={{ mb: 2, p: 2 }}>\n            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\n              <Person sx={{ mr: 1, color: ROLE_COLORS[roleKey(crew.role)] }} />\n              <Typography variant=\"h6\">\n                {crew.crew_id}\n              </Typography>\n              <Chip label={crew.role} color=\"primary\" size=\"small\" sx={{ ml: 1 }} />\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ ml: 2 }}>\n                {crew.assignments.length} flight{crew.assignments.length !== 1 ? 's' : ''}\n              </Typography>\n            </Box>\n            \n            <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\n              {crew.assignments.map((assignment, index) => {\n                const startTime = new Date(assignment.dep_dt);\n                const endTime = new Date(assignment.arr_dt);\n                const duration = assignment.duration_min;\n                \n                return (\n                  <Tooltip\n                    key={`${assignment.flight_id}-${index}`}\n                    title={\n                      <Box>\n                        <Typography variant=\"subtitle2\">\n                          Flight {assignment.flight_id}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                          {assignment.dep_airport} → {assignment.arr_airport}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                          {startTime.toLocaleTimeString()} - {endTime.toLocaleTimeString()}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                          Duration: {duration} minutes\n                        </Typography>\n                        <Typography variant=\"body2\">\n                          Aircraft: {assignment.aircraft_type}\n                        </Typography>\n                      </Box>\n                    }\n                  >\n                    <Paper\n                      sx={{\n                        p: 1,\n                        minWidth: `${Math.max(80, duration / 2)}px`,\n                        bgcolor: AIRCRAFT_COLORS[assignment.aircraft_type] || '#f5f5f5',\n                        border: `2px solid ${ROLE_COLORS[roleKey(assignment.role)]}`,\n                        cursor: 'pointer',\n                        '&:hover': {\n                          opacity: 0.8,\n                        },\n                      }}\n                    >\n                      <Typography variant=\"caption\" fontWeight=\"bold\">\n                        {assignment.flight_id}\n                      </Typography>\n                      <Typography variant=\"caption\" display=\"block\">\n                        {assignment.dep_airport}→{assignment.arr_airport}\n                      </Typography>\n                      <Typography variant=\"caption\" display=\"block\">\n                        {startTime.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\n                      </Typography>\n                    </Paper>\n                  </Tooltip>\n                );\n              })}\n            </Box>\n          </Paper>\n        ))}\n        \n        {Object.keys(crewTimelines).length === 0 && (\n          <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\" sx={{ py: 4 }}>\n            No assignments found for the selected filters\n          </Typography>\n        )}\n      </Box>\n    );\n  };\n\n  const renderChartsView = () => {\n    return (\n      <Grid container spacing={3}>\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Daily Operations\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <BarChart data={processedData.byDay}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"day\" />\n                <YAxis />\n                <RechartsTooltip />\n                <Bar dataKey=\"flights\" fill=\"#1976d2\" name=\"Flights\" />\n                <Bar dataKey=\"crew_assigned\" fill=\"#2e7d32\" name=\"Crew Assigned\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12} md={6}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Role Distribution\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={processedData.byRole}\n                  dataKey=\"count\"\n                  nameKey=\"role\"\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  outerRadius={80}\n                  label\n                >\n                  {processedData.byRole.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={ROLE_COLORS[entry.role] || '#8884d8'} />\n                  ))}\n                </Pie>\n                <RechartsTooltip />\n                <Legend />\n              </PieChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n\n        <Grid item xs={12}>\n          <Paper sx={{ p: 2 }}>\n            <Typography variant=\"h6\" gutterBottom>\n              Aircraft Utilization\n            </Typography>\n            <ResponsiveContainer width=\"100%\" height={250}>\n              <BarChart data={processedData.byAircraft} layout=\"horizontal\">\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis type=\"number\" />\n                <YAxis dataKey=\"aircraft\" type=\"category\" />\n                <RechartsTooltip />\n                <Bar dataKey=\"count\" fill=\"#ff6b35\" />\n              </BarChart>\n            </ResponsiveContainer>\n          </Paper>\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTableView = () => {\n    return (\n      <TableContainer component={Paper}>\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>Crew ID</TableCell>\n              <TableCell>Role</TableCell>\n              <TableCell>Flight ID</TableCell>\n              <TableCell>Route</TableCell>\n              <TableCell>Departure</TableCell>\n              <TableCell>Arrival</TableCell>\n              <TableCell>Aircraft</TableCell>\n              <TableCell align=\"right\">Duration</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {filteredAssignments\n              .sort((a, b) => new Date(a.dep_dt) - new Date(b.dep_dt))\n              .map((assignment, index) => (\n                <TableRow key={`${assignment.crew_id}-${assignment.flight_id}-${index}`} hover>\n                  <TableCell>{assignment.crew_id}</TableCell>\n                  <TableCell>\n                    <Chip \n                      label={assignment.role} \n                      color=\"primary\" \n                      size=\"small\" \n                    />\n                  </TableCell>\n                  <TableCell>{assignment.flight_id}</TableCell>\n                  <TableCell>\n                    {assignment.dep_airport} → {assignment.arr_airport}\n                  </TableCell>\n                  <TableCell>\n                    {new Date(assignment.dep_dt).toLocaleString()}\n                  </TableCell>\n                  <TableCell>\n                    {new Date(assignment.arr_dt).toLocaleString()}\n                  </TableCell>\n                  <TableCell>\n                    <Chip \n                      label={assignment.aircraft_type} \n                      variant=\"outlined\" \n                      size=\"small\" \n                    />\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {assignment.duration_min} min\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    );\n  };\n\n  return (\n    <Card>\n      <CardContent>\n        <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', mb: 2 }}>\n          <Box sx={{ display: 'flex', alignItems: 'center' }}>\n            <Schedule sx={{ mr: 1, color: 'primary.main' }} />\n            <Typography variant=\"h6\" component=\"h2\">\n              {title}\n            </Typography>\n          </Box>\n          \n          {/* Filters */}\n          <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\n            <DatePicker\n              label=\"Select Date\"\n              value={selectedDate}\n              onChange={(d) => (onChangeDate ? onChangeDate(d) : setInternalDate(d))}\n              slotProps={{ textField: { size: 'small', sx: { minWidth: 180 } } }}\n            />\n            <Button\n              variant=\"outlined\"\n              size=\"small\"\n              onClick={() => (onChangeDate ? onChangeDate(null) : setInternalDate(null))}\n            >\n              All Days\n            </Button>\n\n            <FormControl size=\"small\" sx={{ minWidth: 140 }}>\n              <InputLabel>Role</InputLabel>\n              <Select\n                value={selectedRole}\n                onChange={(e) => setSelectedRole(e.target.value)}\n                label=\"Role\"\n              >\n                <MenuItem value=\"all\">All Roles</MenuItem>\n                <MenuItem value=\"Captain\">Captain</MenuItem>\n                <MenuItem value=\"First Officer\">First Officer</MenuItem>\n                <MenuItem value=\"Senior Crew\">Senior Crew</MenuItem>\n                <MenuItem value=\"Cabin Crew\">Cabin Crew</MenuItem>\n              </Select>\n            </FormControl>\n          </Box>\n        </Box>\n\n        {renderKPIs()}\n\n        <Box sx={{ borderBottom: 1, borderColor: 'divider', mb: 2 }}>\n          <Tabs value={activeTab} onChange={(e, newValue) => setActiveTab(newValue)}>\n            <Tab icon={<ViewTimeline />} label=\"Timeline\" />\n            <Tab icon={<Assessment />} label=\"Charts\" />\n            <Tab icon={<TableChart />} label=\"Table\" />\n          </Tabs>\n        </Box>\n\n        <Box>\n          {activeTab === 0 && renderTimelineView()}\n          {activeTab === 1 && renderChartsView()}\n          {activeTab === 2 && renderTableView()}\n        </Box>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default RosterVisualization;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}